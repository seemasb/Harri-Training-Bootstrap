<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brlguim Info</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
    crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/e3c1a62890.js" crossorigin="anonymous"></script>
  <link href="style.css" rel="stylesheet">
</head>

<body>
  <!-- <img class="demo-bg" src="images/mobileInfo.jpg"> -->

  <header class="navbar header shadow-sm " id="Header">
    <div class="container">
      <span class="title">Where in the world?</span>
      <button type="button" class="darkMode" id="darkModeToggle">
        <i class="fa-regular fa-moon fa-lg SearchIcon"></i>
        <span>Dark Mode</span>
      </button>
    </div>
  </header>

  <main class="MainSectionInfo container">

    <button type="button" class="btn btn-light button" onclick="window.location.href = 'Index.html';" id="BackBtn"><i
        class="fa-solid fa-arrow-left-long"></i><span style="padding-left: 14px;">Back</span></button>

    <div class="row" id="InfoContainer">

    </div>
    </div>
  </main>

</body>

</html>


<script>
  let queryString = location.search.substring(1);
  const InfoUrl = 'https://restcountries.com/v3.1/name/' + queryString;

  async function getData() {
    await fetch(InfoUrl)
      .then((response) => response.json())
      .then((data) => { DisplayCountryInfo(data) });
  }

  function DisplayCountryInfo(CountryInfo) {
    const InfoContainer = document.getElementById('InfoContainer');
    InfoContainer.innerHTML = '';
    var InfoContent = '';

    const CountryFlagImg = CountryInfo[0].flags.svg;
    const CountryName = CountryInfo[0].name.common;
    const Population = CountryInfo[0].population;
    const Region = CountryInfo[0].region;
    const SubRegion = CountryInfo[0].subregion;
    const Capital = CountryInfo[0].capital;
    const Currency = CountryInfo[0].currencies;
    const Languages = CountryInfo[0].languages;
    let ArrayLanguages = [];
    let CurrencyList = ''

    for (let x in Currency) {
      CurrencyList += x;
    }
    for (let x in Languages) {
      ArrayLanguages.push(Languages[x])
    }


    InfoContent =
      `
                <div class="col-lg-6 col-md-7 col-sm-12">
                <img src="${CountryFlagImg}" alt="Germany" class="InfoImg w-100 h-100" >
            </div>
            <div class="col-lg-6 col-sm-12">
                

                <div class="CountryDetails">
                    <span class="Info_country_name">${CountryName}</span>  
      
      
                    <div class="CountryDetails12">
                      <div class="CountryDetails1">
                          <span><span class="semiBold">Native Name: </span>${CountryName}</span>
                          <span><span class="semiBold">Population: </span>${Population.toLocaleString('en-US')}</span>
                          <span><span class="semiBold">Region: </span>${Region}</span>
                          <span><span class="semiBold">Sub Region: </span>${SubRegion}</span>
                          <span><span class="semiBold">Capital: </span>${Capital}</span>
                      </div>
                      <div class="CountryDetails2">
                          <span><span class="semiBold">Top Level Domain: </span>be</span>
                          <span><span class="semiBold">Currencies: </span>${CurrencyList}</span>
                          <span><span class="semiBold">Languages: </span>${ArrayLanguages.join(", ")}</span>
                      </div>
                    </div>
      
      
                    <div class="borders">
                      <span class="semiBold" style="padding-top: 5px; font-size: 16px;">Border Countries:</span>
                      <div>
                          <span class="CountryBox">French</span>
                          <span class="CountryBox">Germany</span>
                          <span class="CountryBox">Netherlands</span>
                      </div>
                    </div>
                  </div>


                </div>
              `;

    InfoContainer.innerHTML += InfoContent;


  }

  getData()



  /////////////////////////////////////DARK MODE////////////////////////////////////////////////

  var storedTheme = localStorage.getItem('theme');
  if (storedTheme === "dark") darkModeToggle.innerHTML = '<i class="fa-solid fa-sun fa-lg"></i> <span>Light Mode</span>';
  document.documentElement.setAttribute('data-theme', storedTheme)

  // When someone clicks the button
  darkModeToggle.addEventListener('click', () => {
    var currentTheme = document.documentElement.getAttribute("data-theme");

    if (currentTheme === "light") {
      targetTheme = "dark";
      darkModeToggle.innerHTML = '<i class="fa-solid fa-sun fa-lg"></i> <span>Light Mode</span>';
    }
    else {
      targetTheme = "light";
      darkModeToggle.innerHTML = '<i class="fa-regular fa-moon fa-lg SearchIcon"></i> <span>Dark Mode</span>';
    }

    document.documentElement.setAttribute('data-theme', targetTheme)
    localStorage.setItem('theme', targetTheme);
  })

</script>